# 自动过图任务说明

在出新图和新的活动时需要过一次图才能扫荡，该任务处理第一次过图的能力。

## 使用方法

可以直接运行 [test.py](test.py)脚本文件，也可以编写代码运行如下：
```python3
import yaml
from pcrscript import *
from pcrscript.constants import Difficulty
from pcrscript.simulator import DNSimulator
from pcrscript.tasks import *
import os

if __name__ == '__main__':
    # 加载配置文件生成robot实例
    with open('daily_config.yml', encoding='utf-8') as f:
        config = yaml.load(f, Loader=yaml.FullLoader)
    drivers = DNSimulator2(config['Extra']['dnpath']).get_dirvers()
    robot = Robot(drivers[0])
    
    # 执行过图任务
    CommonAdventure(robot).run(estimate_combat_duration=30)
```

## 使用限制

自动过图任务与其他任务不同，无法组合使用一旦启动就会一直运行，需要主动关闭脚本进程后才会停止。运作方式是通过检测屏幕中的人物，然后点击对应区域弹出开始战斗界面。

### 人物限制

目前脚本适配的人物是6星佩可莉姆，如果是其他的主人物，需要切换为6星佩可莉姆。如果不想更换人物，可以截取人物的特征图片，替换`images`目录的`peco.png`。（注意这个图片不要截取到背景，截取人物的一部分即可，不用太大）

### 普通图限制

* 如果过完图之后强制跳转剧情（会切换界面）,脚本会停止工作可以手动点过之后回到冒险图可恢复工作

### 活动图限制

* 如果过完图之后强制跳转剧情（会切换界面）,脚本会停止工作可以手动点过之后回到冒险图可恢复工作
* 目前活动图boss关卡无法处理